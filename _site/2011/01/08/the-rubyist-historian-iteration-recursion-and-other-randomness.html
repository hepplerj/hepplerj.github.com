<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta content="The online writing of Jason Heppler" name="description"/>
<title>The Rubyist Historian: Randomness</title> <meta name="author" content="Jason Heppler" />
<link rel="stylesheet" href="/css/syntax.css" type="text/css" />
<link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
<link rel="stylesheet" href="/css/tweet.css" type="text/css" />
<link href="/webfonts/ss-social.css" rel="stylesheet" />
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script type="text/javascript" src="http://jasonheppler.org/js/styleTweets.js"></script>

<link href='http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>

<script src="http://d3js.org/d3.v3.min.js"></script>

<style>

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.bar {
  fill: steelblue;
}

.x.axis path {
  display: none;
}

svg {
  font: 13px sans-serif;
}

</style>

   <script type="text/javascript">

     var _gaq = _gaq || [];
     _gaq.push(['_setAccount', 'UA-12786552-1']);
     _gaq.push(['_trackPageview']);

     (function() {
       var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
       ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
       var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
     })();

   </script>

</head>
<body>

<div class="header">
	<div class="header_container">

		<section class="name"><a href="/">Jason Heppler</a></section>
		<ul class="menu">
			<li><a href="/about.html">Colophon</a></li>
			<li><a href="/research.html">Research</a></li>
			<li><a href="/teaching.html">Teaching</a></li>
			<li><a href="/hacks.html">Digital &amp; Public History</a></li>
			<li><a href="http://jasonheppler.org/jah-vita.pdf">Vita</a></li>
		</ul>
	</div>
</div>

<section class="container content">

<aside><p class="when">January  8, 2011</p></aside>
<h1>The Rubyist Historian: Randomness</h1>

<p>We&#8217;re entering the final leg of our journey.  We&#8217;ve covered a lot of topics in the last few sections, but I just have a couple of things to touch on before we move on to writing our first full program together.</p>

<h4>Constant Variables</h4>

<p>A variable that is in all caps cannot be reassigned anywhere in the program.  For example, if you were writing a program that used Pi in its calculations, you wouldn&#8217;t want the program (or yourself or another programmer) to accidentally override the value of Pi.  To prevent this, Ruby allows for constant variables.  We would simply write this in all caps:</p>

<div class="highlight"><pre><code class="ruby"><span class="no">PI</span> <span class="o">=</span> <span class="mi">3</span><span class="o">.</span><span class="mi">141592</span>
</code></pre></div>

<p>We can now use the variable anywhere in the program without fear that it will be overridden by another variable.  For example, we could use Pi to calculate the area and circumference of a circle: </p>

<div class="highlight"><pre><code class="ruby"><span class="no">PI</span> <span class="o">=</span> <span class="mi">3</span><span class="o">.</span><span class="mi">141592</span>

<span class="nb">puts</span> <span class="s2">&quot;Enter a radius to calculate: &quot;</span>
<span class="n">radius</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span><span class="o">.</span><span class="n">to_f</span>

<span class="n">area</span> <span class="o">=</span> <span class="no">PI</span> <span class="o">*</span> <span class="p">(</span><span class="n">radius</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="n">area</span> <span class="o">=</span> <span class="s2">&quot;%.4f&quot;</span> <span class="o">%</span> <span class="n">area</span>
<span class="nb">puts</span> <span class="s2">&quot;The area of the circle is: </span><span class="si">#{</span><span class="n">area</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="n">circ</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">radius</span> <span class="o">*</span> <span class="no">PI</span>
<span class="n">circ</span> <span class="o">=</span> <span class="s2">&quot;%.4f&quot;</span> <span class="o">%</span> <span class="n">circ</span>
<span class="nb">puts</span> <span class="s2">&quot;The circumference of the circle is: </span><span class="si">#{</span><span class="n">circ</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>

<h4>External Libraries</h4>

<p>In the last section we talked about modules and the ability to avoid namespace conflicts.  The other great thing about modules is there are literally thousands of modules that exist outside the Ruby system, written and (theoretically) tested by other programmers, but available for your use.  You probably saw an early version of this when we first talked about modules and the use of <code>Trig.rb</code> and <code>Morals.rb</code>.  <strong>Libraries</strong> operate by prefacing the call with <code>require</code> and then tell Ruby what we want included:</p>

<div class="highlight"><pre><code class="ruby"><span class="nb">require</span> <span class="s1">&#39;rubygems&#39;</span>
</code></pre></div>

<p>How do we know what&#8217;s available to us as programmers?  By consulting either <a href="http://rubyforge.org/">RubyForge</a> or the <a href="http://raa.ruby-lang.org/">Ruby Application Archive</a> (see <a href="http://www.ruby-lang.org/en/libraries/">Ruby-Lang.org</a> for more). To use the libraries, you&#8217;ll need to have a copy on your local system.  Many Ruby libraries are conveniently packaged under <a href="http://docs.rubygems.org/">Ruby Gems</a> and provides a standard formate for distributing Ruby programs and libraries.  Follow the <a href="http://www.ruby-lang.org/en/libraries/">instructions on Ruby-Lang.org</a> on how to download and install Ruby Gems.</p>

<p>Perhaps one of the most useful libraries that Prof. Ramsay pointed our class to was the <code><a href="http://deveiate.org/projects/Linguistics/">linguistics</a></code> library:</p>

<div class="highlight"><pre><code class="ruby"><span class="c1"># linguistics.rb</span>

<span class="nb">require</span> <span class="s1">&#39;rubygems&#39;</span>
<span class="nb">require</span> <span class="s1">&#39;linguistics&#39;</span>

<span class="c1"># tell linguistics to use English</span>
<span class="ss">Linguistics</span><span class="p">:</span><span class="ss">:use</span><span class="p">(</span> <span class="ss">:en</span> <span class="p">)</span>

<span class="nb">puts</span> <span class="mi">185934538450</span><span class="o">.</span><span class="n">en</span><span class="o">.</span><span class="n">numwords</span>
<span class="c1"># =&gt; one hundred and eighty-five billion, nine hundred and thirty-four million, five hundred and thirty-eight thousand, four hundred and fifty</span>
</code></pre></div>

<p>Or maybe you want to know what the plural of &#8220;goose&#8221; is:</p>

<div class="highlight"><pre><code class="ruby"><span class="ss">Linguistics</span><span class="p">:</span><span class="ss">:use</span><span class="p">(</span> <span class="ss">:en</span> <span class="p">)</span>
<span class="s2">&quot;goose&quot;</span><span class="o">.</span><span class="n">en</span><span class="o">.</span><span class="n">plural</span>
<span class="c1"># =&gt; &quot;geese&quot;</span>
</code></pre></div>

<p>Or maybe we have an array of farm animals:</p>

<div class="highlight"><pre><code class="ruby"><span class="ss">Linguistics</span><span class="p">:</span><span class="ss">:use</span><span class="p">(</span> <span class="ss">:en</span> <span class="p">)</span>
<span class="n">animals</span> <span class="o">=</span> <span class="sx">%w{dog cow ox chicken goose goat cow dog rooster llama pig goat dog cat cat dog cow goat goose goose ox alpaca}</span>
<span class="nb">puts</span> <span class="s2">&quot;The farm has: &quot;</span> <span class="o">+</span> <span class="n">animals</span><span class="o">.</span><span class="n">en</span><span class="o">.</span><span class="n">conjunction</span>
</code></pre></div>

<p>This will print: </p>

<div class="highlight"><pre><code class="ruby"><span class="no">The</span> <span class="n">farm</span> <span class="ss">has</span><span class="p">:</span> <span class="n">four</span> <span class="n">dogs</span><span class="p">,</span> <span class="n">three</span> <span class="n">cows</span><span class="p">,</span> <span class="n">three</span> <span class="n">goats</span><span class="p">,</span> <span class="n">two</span> <span class="n">oxen</span><span class="p">,</span> <span class="n">two</span> <span class="n">geese</span><span class="p">,</span> <span class="n">two</span> <span class="n">cats</span><span class="p">,</span> <span class="n">a</span> <span class="n">chicken</span><span class="p">,</span> <span class="n">a</span> <span class="n">rooster</span><span class="p">,</span> <span class="n">a</span> <span class="n">llama</span><span class="p">,</span> <span class="n">a</span> <span class="n">pig</span><span class="p">,</span> <span class="ow">and</span> <span class="n">an</span> <span class="n">alpaca</span>
</code></pre></div>

<p>You can <a href="http://deveiate.org/projects/Linguistics/wiki/English">do a lot</a> with <code>linguistics</code>.</p>

<p>Choose your external libraries carefully, but also don&#8217;t reinvent the wheel if you can avoid it. Don&#8217;t be afraid of scrapping an entire program or salvaging good code and throwing away the rest. In my experience, programming contains its headaches &#8211; there will be failure, but there&#8217;s always a learning opportunity in failure.</p>

<h4>Commenting</h4>
<p>Comment your code and comment it well.  We&#8217;ve already seen some of this in Ruby.  Commenting a single line in Ruby starts with a <code>#</code>.  But we can also write multi-line comments by putting our text between <code>=begin</code> and <code>=end</code>.  </p>

<div class="highlight"><pre><code class="ruby"><span class="c1"># this is a single line comment</span>

<span class="cm">=begin</span>
<span class="cm">Multi-line comment</span>

<span class="cm">And another</span>

<span class="cm">Yet another</span>
<span class="cm">=end</span>
</code></pre></div>

<p>I frequently use single line comments for explaining what chunks of code are doing, while multi-line commenting is often useful for removing parts of code without actually deleting it.  This makes debugging much easier.  Be sure to use your commenting wisely by explaining what the code doesn&#8217;t tell you.  When you define functions or classes or variables, it should be fairly clear what&#8217;s going on.  But commenting on why you made the choices you made that will help you or another programmer better understand the code is worth including.  Remember: programming should be as much about readability as it is about its functionality.  Comment even if its code only you will be seeing.</p>

<h4>Plan Ahead</h4>
<p>I read somewhere recently that code is the crystallization of human thought (if I can find the comment, I&#8217;ll attribute it).  Plan ahead in the programs you write, make sure the intent is clear, explain how you expect the code to work.  Diagram! Design mockups! Some of my best tools aren&#8217;t digital: I keep a permanent marker and stack of paper handy for sketching out ideas.</p>

<h4>Backup!</h4>
<p>Keep backups of multiple versions.  Better yet, place your stuff under version control like Subversion or Github. </p>

<h4>Additional Resources</h4>
<p>Now that you have the basics, you might want to learn more and start creating awesome stuff for the Internet.  Here are some additional resources to learn more about Ruby and other languages.</p>

<p><strong>General Resources</strong></p>
<ul>
<li><a href="https://developer.mozilla.org/en/Web_Development">Mozilla Web Development Resources</a></li>
<li><a href="http://www.reddit.com/r/carlhprogramming">CarlHProgramming Lessons</a> on Reddit</li>
<li><a href="http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-00-introduction-to-computer-science-and-programming-fall-2008/">MIT OpenCourseWare's Introduction to Computer Science and Programming</a></li>
</ul>

<p><strong>Ruby / Ruby on Rails</strong></p>
<ul>
<li><a href="http://pragprog.com/titles/rails3/agile-web-development-with-rails">Agile Web Development with Rails</a></li>
<li><a href="http://railsforzombies.org/">Rails for Zombies</a></li>
<li><a href="http://rubyonrails.org/screencasts">RubyOnRails.org's screencasts</a></li>
<li><a href="http://www.amazon.com/Programming-Ruby-1-9-Pragmatic-Programmers/dp/1934356085/ref=sr_1_1?ie=UTF8&amp;qid=1296332983&amp;sr=8-1">The Pragmatic Guide to Programming Ruby 1.9</a></li>
<li><a href="http://mislav.uniqpath.com/poignant-guide/book/">why's Poignant Guide to Ruby</a></li>
</ul>

<p><strong>JavaScript</strong></p>
<ul>
<li><a href="http://www.amazon.com/gp/product/0596101996?ie=UTF8&amp;tag=gmgamzn-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0596101996">JavaScript: The Definitive Guide</a></li>
<li><a href="http://javascriptweblog.wordpress.com/">JavaScript, JavaScript</a> blog by Angus Croll</li>
<li><a href="http://ejohn.org/apps/learn/">Learn Advanced Javascript</a></li>
<li>Libraries like <a href="http://jquery.com/">jQuery</a>, <a href="http://dojotoolkit.org/">Dojo</a>, <a href="http://mootools.net/">MooTools</a>, and <a href="http://developer.yahoo.com/yui/">Yui</a>.</li>
</ul>

<p><strong>PHP</strong></p>
<ul>
<li>The official <a href="http://us.php.net/manual/en/index.php">PHP Manual </a></li>
<li>Zend offers <a href="http://devzone.zend.com/article/627">PHP for the Absolute Beginner</a></li>
</ul>

<p><strong>Mobile App Development</strong></p>
<ul>
<li><a href="http://itunes.apple.com/WebObjects/MZStore.woa/wa/viewPodcast?id=384233225">Stanford's iPhone Application Development</a></li>
<li><a href="http://developer.android.com/index.html">Android Developer</a> site</li>
</ul>

<p>Next up, we&#8217;re writing a program together.  We&#8217;re going to build a word frequency generator and begin working with the web.</p>

<p><em>Visit the Rubyist Historian <a href="http://www.jasonheppler.org/the-rubyist-historian-the-series.html">Table of Contents</a> for more sections, and check out the <a href="https://github.com/hepplerj/rubyist-historian">Github repository</a> for an archive of all the code examples.</em></p>

<p><em>See something that&#8217;s wrong?  Examples that don&#8217;t work?  Explanations that are unclear or confusing?  Embarrassing typographic errors?  Drop me an email at jason.heppler+feedback at gmail and I&#8217;ll fix things right up!</em></p>

<p><em>Topic structure, examples, and explanations for the Rubyist Historian are inspired by, credited to, and drawn from Stephen Ramsay and his course Electronic Text.</em></p>


<section class="post_meta">
  <div class="block">
    <a href="http://twitter.com/jaheppler">
      <span class="ss-twitter ss-social-circle">
        <div>Follow me on Twitter.</div>
      </span>
    </a>
  </div>
  
  <div class="block">
  	<a href="http://acomp.stanford.edu/faculty/atsp">
  		<span class="ss-like ss-social-circle">
  			<div>I am the Academic Technology Specialist in the History Department at Stanford University.</div>
  		</span>
  	</a>
  </div>

  <div class="block">
  	<a href="http://github.com/hepplerj">
  		<span class="ss-github ss-social-circle">
  			<div>Follow me on Github.</div>
  		</span>
  	</a>
  </div>
</section>


</section>

<footer>
	Tech, history, code, coffee • Written by <a href="http://jasonheppler.org/about.html">Jason Heppler</a> • Powered by <a href="http://github.com/mojombo/jekyll">Jekyll</a> <br/> Licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC-BY</a> • <a href="http://www.jasonheppler.org/feed.xml">Subscribe to RSS</a>

<br>

Remember <a href="http://lessig.tumblr.com/post/40347463044/prosecutor-as-bully">Aaron Swartz</a>

</footer>

</body>
</html>
